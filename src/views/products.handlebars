<div>
    <h2>Listado de Productos</h2>
    <div class="contenedor">
        <h3>Id del carrito Hardcodeado:
            <input type="text" name id="cartId" value="{{cartId}}" size="25px"
                disabled>
        </h3>

        <div class="row justify-content-between">
            <div class="d-flex col-md-12 justify-content-between">
                <div class="col-md-3 filtro">
                    <select class="form-select"
                        aria-label="Default select example" id="rubroSelect">
                        <option selected>Selecciones un Rubro</option>
                        {{#each products}}
                        {{#each products.category}}
                        <option value={{category}}>{{category}}</option>
                        {{/each}}
                        {{/each}}
                    </select>
                </div>
                <div class="col-md-3 filtro">
                    <select class="form-select"
                        aria-label="Default select example">
                        <option selected>Open this select menu</option>
                        <option value="1">One</option>
                        <option value="2">Two</option>
                        <option value="3">Three</option>
                    </select>
                </div>
                <div class="col-md-3 filtro">
                    <select class="form-select"
                        aria-label="Default select example">
                        <option selected>Open this select menu</option>
                        <option value="1">One</option>
                        <option value="2">Two</option>
                        <option value="3">Three</option>
                    </select>
                </div>
                <div class="col-md-3 filtro">
                    <button class="btn btn-primary"
                        onclick="submitForm()">Enviar</button>
                </div>
            </div>
        </div>

        <div class="table">
            <table class="table table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Titulo</th>
                        <th scope="col">Descripcion</th>
                        <th scope="col">Precio</th>
                        <th scope="col">Codigo</th>
                        <th scope="col">Stock</th>
                        <th scope="col">Categoria</th>
                        <th scope="col">Estado</th>
                        <th scope="col">Imagen</th>
                        <th scope="col">Add</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each products}}
                    <tr>
                        <th scope="row"><a class="a"
                                href="/api/products/{{this._id}}">{{this._id}}</a></th>
                        <td>{{this.title}}</td>
                        <td>{{this.description}}</td>
                        <td>$ {{this.price}}</td>
                        <td>{{this.code}}</td>
                        <td>{{this.stock}}</td>
                        <td>{{this.category}}</td>
                        <td>{{#if this.status}}
                            &#10004;
                            {{else}}
                            &#10006;
                            {{/if}}
                        </td>
                        <td>
                            {{#if this.thumbnails.length}}
                            <a
                                href="{{this.thumbnails.[0]}}">{{this.thumbnails.[0]}}</a>
                            {{else}}
                            No hay Imagen
                            {{/if}}
                        </td>
                        <td>
                            <a type="button" onclick="addProduct ('{{this._id}}')"><i class="bi bi-cart-plus"></i></a>  
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
    <!-- Controles de paginación -->
    <div>
        <div class="pagination" id="pagination">
            <!-- Primera Pagina -->
            {{#if hasPrevPage}}
            <a href="{{hasPrevLink}}">
                <i class="bi bi-chevron-double-left"></i>
            </a>
            {{/if}}
            <!-- Icono para retroceder página -->
            {{#if hasPrevPage}}
            <a href="{{prevLink}}">
                <i class="bi bi-chevron-left"></i>
            </a>
            {{/if}}
            <!-- Numeracion de pagina -->
            <p>Pag. {{page}} de {{totalPages}}</p>
            <!-- Icono para avanzar página -->
            {{#if hasNextPage}}
            <a href="{{nextLink}}">
                <i class="bi bi-chevron-right"></i>
            </a>
            {{/if}}
            <!-- Ultima Pagina -->
            {{#if hasNextPage}}
            <a href="{{hasNextLink}}">
                <i class="bi bi-chevron-double-right"></i>
            </a>
            {{/if}}
        </div>
    </div>
</div>

<script src="/assets/js/products.js"></script>
